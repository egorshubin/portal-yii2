tinymce.PluginManager.add('takepart', function(editor, url) {
    // Add a button that opens a window
    editor.addButton('takepart', {
        text: 'Кнопка',
        icon: 'pastetext',
        onclick: function () {
            // Open window
            editor.windowManager.open({
                title: 'Вставить кнопку',
                body: [
                    {type: 'textbox', name: 'title', label: 'Текст кнопки'},
                    {type: 'textbox', name: 'link', label: 'Ссылка'}
                ],
                onsubmit: function (e) {
                    // Insert content when the window form is submitted
                    editor.insertContent('<a href="' + e.data.link + '" target="_blank" class="button-l button-takepart">' + e.data.title + '</a>');
                }
            });
        }
    });


});